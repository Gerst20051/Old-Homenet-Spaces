<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
  <head>
    <title>ENDLOCAL</title>
    <link rel="stylesheet" href="../../CSS/COMMANDS.CSS" type="text/css">
  </head>
  <body>
    <a href="../../Index.html">Home</a>
    &gt; <a href="../../INDEXA.HTM#e">Commands A-M</a>
    &gt; <a href="../INDEX.HTM#endlocal">Batch E</a>
    <h1>ENDLOCAL</h1>

    <hr>
    <a name="Description"></a> <b>Description</b>
    | <a href="#Syntax">Syntax</a>
    | <a href="#Parameters">Parameters</a>
    | <a href="#Switches">Switches</a>
    | <a href="#Related">Related</a>
    | <a href="#Notes">Notes</a>
    | <a href="#Examples">Examples</a>
    | <a href="#Errorlevels">Errorlevels</a>
    | <a href="#Availability">Availability</a>
    <p>End localisation of environment changes in a batch file.</p>
    <p>Any changes made to an Environment Variable after ENDLOCAL
    has been issued will be persistent - they will still remain
    in memory after the batch file has terminated and any previous
    value stored in that Environment Variable will not be restored.</p>
    <p>Ending the <a href="../C/CMD.HTM">CMD</a> session
    will delete all Environment Variables created at the DOS prompt or
    in a batch file.</p>

    <hr>
    <a name="Syntax"></a> <b>Syntax</b>
    <p>ENDLOCAL
    <a href="#SwitchHelp">/?</a></p>

    <p>ENDLOCAL</p>

    <hr>
    <a name="Parameters"></a> <b>Parameters</b>
    <p>none.</p>

    <hr>
    <a name="Switches"></a> <b>Switches</b>
    <dl>
      <dt><a name="SwitchHelp"></a> /?
      (<a href="../../Version/MSWIN/NTXP.HTM">NTXP</a>)</dt>
      <dd>Display help.</dd>
    </dl>

    <hr>
    <a name="Related"></a> <b>Related</b>
    <p><a href="../S/SETLOCAL.HTM">SETLOCAL</a> - Begin
    localisation of environment variables in a batch file.
    <br><b>Equivalent Linux BASH commands:</b>
    <br>readonly - Mark variables/functions as readonly.</p>

    <hr>
    <a name="Notes"></a> <b>Notes</b>
    <p>If Command Extensions are enabled ENDLOCAL changes:</p>

    <p>If the corresponding <a href="../S/SETLOCAL.HTM">SETLOCAL</a>
    enable or disabled command extensions using the new
    <a href="../S/SETLOCAL.HTM#ParameterEnableExtensions">ENABLEEXTENSIONS</a>
    or
    <a href="../S/SETLOCAL.HTM#ParameterDisableExtensions">DISABLEEXTENSIONS</a>
    options, then after the ENDLOCAL, the enabled/disabled state
    of command extensions will be restored to what it was prior
    to the matching SETLOCAL command execution.</p>

    <hr>
    <a name="Examples"></a> <b>Examples</b>
    <p>If <a href="../S/SETLOCAL.HTM">SETLOCAL</a> is used
    without a corresponding ENDLOCAL
    then localisation of environment changes will end when
    the batch file ends.</p>
<pre>
 <a href="../A/ATSIGN.HTM">@</a><a href="ECHO.HTM">ECHO</a> <a
href="ECHO.HTM#ParameterOff">OFF</a>
   <a href="../S/SETLOCAL.HTM">SETLOCAL</a>
      <a href="../S/SET.HTM">SET</a> <a
href="../S/SET.HTM#ParameterVariable">v_filename</a>=<a
href="../S/SET.HTM#ParameterString">c:\test.txt</a>

   <a href="../S/SETLOCAL.HTM">SETLOCAL</a>
      <a href="../S/SET.HTM">SET</a> <a
href="../S/SET.HTM#ParameterVariable">v_filename</a>=<a
href="../S/SET.HTM#ParameterString">H:\UserManual.doc</a>
   ENDLOCAL
   <a href="ECHO.HTM">ECHO</a> <a
href="ECHO.HTM#ParameterMessage">%v_filename%</a>
</pre>

   <p>this will ECHO the value:</p>
<pre>
c:\test.txt
</pre>

    <hr>
    <p>Passing variables from one routine to another.</p>
    <p>When "&amp;" is used to put several commands on one
    line, the command processor will convert all the
    %variables% into their text values before executing any
    of the commands.</p>
    <p>By putting ENDLOCAL and <a href="../S/SET.HTM">SET</a>
    commands on one line you are able to
    <a href="../S/SET.HTM">SET</a> a variable outside the
    <a href="../S/SETLOCAL.HTM">SETLOCAL</a>-ENDLOCAL
    block that refers to a variable created inside the block.</p>

<pre>
 <a href="../A/ATSIGN.HTM">@</a><a href="ECHO.HTM">ECHO</a> <a
href="ECHO.HTM#ParameterOff">OFF</a>
   <a href="../S/SETLOCAL.HTM">SETLOCAL</a>
      <a href="../S/SET.HTM">SET</a> <a
href="../S/SET.HTM#ParameterVariable">v_file</a>=<a
href="../S/SET.HTM#ParameterString">%1</a>
   ENDLOCAL &amp; <a href="../S/SET.HTM">SET</a> <a
href="../S/SET.HTM#ParameterVariable">v_ret1</a>=<a
href="../S/SET.HTM#ParameterString">%v_file%</a>&amp;<a
href="../S/SET.HTM">SET</a> <a
href="../S/SET.HTM#ParameterVariable">v_ret2</a>=<a
href="../S/SET.HTM#ParameterString">450</a>
</pre>

    <p>You can use several "&amp;" characters in order to
    <a href="../S/SET.HTM">SET</a> several variables.</p>

    <hr>
    <a name="Errorlevels"></a> <b>Errorlevels</b>
    <p>none.</p>

    <hr>
    <a name="Availability"></a> <b>Availability</b>
    <dl>
      <dt>Internal</dt>
      <dd>
        <dl>
          <dt>DOS</dt>
          <dd>
          none
          </dd>
          <dt>Windows</dt>
          <dd>
          none
          </dd>
          <dt>Windows NT</dt>
          <dd>
          <a href="../../Version/MSWIN/NT31.HTM">NT3.1</a>
          <a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>
          <a href="../../Version/MSWIN/NT351.HTM">NT3.51</a>
          <a href="../../Version/MSWIN/NT400.HTM">NT4</a>
          <a href="../../Version/MSWIN/NT2K.HTM">NT2000</a>
          <a href="../../Version/MSWIN/NTXP.HTM">NTXP</a>
          <a href="../../Version/MSWIN/NT2K3.HTM">NT2003</a>
          </dd>
        </dl>
      </dd>
    </dl>

    <hr>
    Last Updated: 2006/12/01
    <br>Direct corrections or suggestions to:
    <a href="mailto:rick_lively@yahoo.com">Rick Lively</a>
  </body>
</html>
