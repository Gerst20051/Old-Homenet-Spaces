<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
  <head>
    <title>CACLS</title>
    <link rel="stylesheet" href="../../CSS/COMMANDS.CSS" type="text/css">
  </head>
  <body>
    <a href="../../Index.html">Home</a>
    &gt; <a href="../../INDEXA.HTM#c">Commands A-M</a>
    &gt; <a href="../INDEXCA.HTM#cacls">Commands Ca-Cg</a>
    <h1>CACLS</h1>

    <hr>
    <a name="Description"></a> <b>Description</b>
    | <a href="#Syntax">Syntax</a>
    | <a href="#Parameters">Parameters</a>
    | <a href="#Switches">Switches</a>
    | <a href="#Related">Related</a>
    | <a href="#Notes">Notes</a>
    | <a href="#Examples">Examples</a>
    | <a href="#Errorlevels">Errorlevels</a>
    | <a href="#Availability">Availability</a>
    <p>Display or modify Access Control Lists (ACLs) for files and
    folders.</p>
    <p>Access Control Lists apply only to files stored on an NTFS formatted
    drive, each ACL determines which users (or groups of users) can read or
    edit the file. When a new file is created it normally inherits ACL's
    from the folder where it was created.</p>

    <hr>
    <a name="Syntax"></a> <b>Syntax</b>
    <p>CACLS
    <a href="#SwitchHelp">/?</a></p>

    <p>CACLS
    <a href="#ParameterPathname">pathname</a>
    [<a href="#SwitchC">/C</a>]
    [<a href="#SwitchD">/D</a>
     <a href="#SwitchUser">user</a>]
    [[<a href="#SwitchE">/E</a>]
     [<a href="#SwitchR">/R</a>
     <a href="#SwitchUser">user</a> [...]]]
    [<a href="#SwitchG">/G</a>
     <a href="#SwitchUser">user</a>:permission [...]]]
    [<a href="#SwitchP">/P</a>
     <a href="#SwitchUser">user</a>:permission [...]]]
    [<a href="#SwitchT">/T</a>]</p>

    <p>Display file(s) ACLs:</p>
    <p>CACLS
    <a href="#ParameterPathname">pathname</a></p>

    <hr>
    <a name="Parameters"></a> <b>Parameters</b>
    <dl>
      <dt><a name="ParameterPathname"></a> pathname
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Wildcards can be used to specify multiple files.</dd>
    </dl>

    <hr>
    <a name="Switches"></a> <b>Switches</b>
    <dl>
      <dt><a name="SwitchHelp"></a> /?
      (<a href="../../Version/MSWIN/NTXP.HTM">NTXP</a>)</dt>
      <dd>Display help.</dd>

      <dt><a name="SwitchC"></a> /C
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Continue on access denied errors.</dd>

      <dt><a name="SwitchD"></a> /D <a href="#SwitchUser">user</a>
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Deny specified user access. Will deny access to a user
      even if they belong to a group that does have access.</dd>

      <dt><a name="SwitchE"></a> /E
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Edit ACL (leave existing rights unchanged).
      Without the /E switch all existing rights on [pathname]
      will be replaced, any attempt to use the /E switch to change a
      [<a href="#SwitchUser">user</a>:permission] that already exists
      will raise an error.  To be sure the CALCS command will work
      without errors use /E <a href="#SwitchR">/R</a> to remove ACL
      rights for the user concerned, then use /E to add the desired
      rights.</dd>

      <dt><a name="SwitchG"></a> /G
      <a href="#SwitchUser">user</a>:permission
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Grant access rights, permision can be:
         <ul>
         <li><b>C</b> Change (write)</li>
         <li><b>F</b> Full control</li>
         <li><b>N</b> None  <a href="../../Version/MSWIN/NTXP.HTM">NTXP</a></li>
         <li><b>R</b> Read</li>
         <li><b>W</b> Write <a href="../../Version/MSWIN/NT2K.HTM">NT2000</a></li>
         </ul>
      </dd>

      <dt><a name="SwitchP"></a> /P
      <a href="#SwitchUser">user</a>:permission
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Replace access rights, permision can be:
         <ul>
         <li><b>C</b> Change (write)</li>
         <li><b>F</b> Full control</li>
         <li><b>N</b> None</li>
         <li><b>R</b> Read</li>
         <li><b>W</b> Write <a href="../../Version/MSWIN/NT2K.HTM">NT2000</a></li>
         </ul>
      </dd>

      <dt><a name="SwitchR"></a> /R <a href="#SwitchUser">user</a>
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Revoke specified user's access rights (only valid with
      <a href="#SwitchE">/E</a>).</dd>

      <dt><a name="SwitchT"></a> /T
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>Search the pathname including all subfolders. Will only
      traverse subfolders below the current directory.</dd>

      <dt><a name="SwitchUser"></a> user
      (<a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>)</dt>
      <dd>In all the options "user" can be an NT Username
      or an NT Workgroup (either local or global)</dd>
      <dd>If a username or groupname includes spaces then
      it must be surrounded with quotes e.g. "Authenticated Users"</dd>
      <dd>You can specify more than one user:permission in a single
      command.</dd>
    </dl>

    <hr>
    <a name="Related"></a> <b>Related</b>
    <p><a href="../A/ATTRIB.HTM">ATTRIB</a> - Display or change
    file attributes
    <br><a href="../P/PERMS.HTM">PERMS</a> - Show permissions for a user
    <br>SHOWACL - Show file Access Control Lists (win 2000)
    <br><a href="../X/XCACLS.HTM">XCACLS</a> - Display or modify Access
    Control Lists (ACLs) for files and folders
    <br><b>Equivalent Linux BASH commands:</b>
    <br>chmod - Change access permissions
    <br>chown - Change file owner and group</p>

    <hr>
    <a name="Notes"></a> <b>Notes</b>
    <p>The CACLS command does not provide a /Y switch to automatically
    answer 'Y' to the Y/N prompt. However, you can pipe the 'Y' character
    into the CACLS command using ECHO, use:</p>
<pre>
    <a
href="../E/ECHO.HTM">ECHO</a> <a
href="../E/ECHO.HTM#ParameterMessage">Y</a>| CACLS <a
href="#SwitchG">/g</a> <a
href="#SwitchUser">username</a>:permission
</pre>

    <p><b>note:</b> Do not include a space between the 'Y' and the pipe
    symbol.</p>

    <hr>
    <p>To edit a file you must have the "Change" ACL (or be the file's
    owner).</p>

    <hr>
    <p>To use the CACLS command and change an ACL requires "FULL
    Control"</p>

    <hr>
    <p>File "Ownership" will always override all ACL's - you always have
    Full Control over files that you create.</p>

    <hr>
    <ul>
    <li><b>OI</b> This folder and files</li>
    <li><b>CI</b> This folder and subfolders</li>
    <li><b>IO</b> The ACE does not apply to the current file/directory</li>
    <li><b>No output message</b> This folder only</li>
    <li><b>(IO)(CI)</b> This folder, subfolders and files</li>
    <li><b>(OI)(CI)(IO)</b> Subfolders and files only</li>
    <li><b>(CI)(IO)</b> Subfolders only</li>
    <li><b>(OI)(IO)</b> Files only</li>
    </ul>

    <hr>
    <a name="Examples"></a> <b>Examples</b>
    <p>Adding new file permissions to a group of users:</p>
<pre>
    CACLS <a
href="#ParameterPathname">myfile.txt</a> <a
href="#SwitchE">/E</a> <a
href="#SwitchG">/G</a> <a
href="#SwitchUser">"Power Users"</a>:F
</pre>

    <hr>
    <p>If we now grant Read permissions to the same group they will
    still have FULL control:</p>
<pre>
    CACLS <a
href="#ParameterPathname">myfile.txt</a> <a
href="#SwitchE">/E</a> <a
href="#SwitchG">/G</a> <a
href="#SwitchUser">"Power Users"</a>:R
</pre>

    <hr>
    <p>This command will replace the first ACL granted and allow
    only Read access:</p>
<pre>
    CACLS <a
href="#ParameterPathname">myfile.txt</a> <a
href="#SwitchE">/E</a> <a
href="#SwitchP">/P</a> <a
href="#SwitchUser">"Power Users"</a>:R
</pre>

    <hr>
    <a name="Errorlevels"></a> <b>Errorlevels</b>
    <p>none.</p>

    <hr>
    <a name="Availability"></a> <b>Availability</b>
    <dl>
      <dt>External</dt>
      <dd>
        <dl>
          <dt>DOS</dt>
          <dd>
          none
          </dd>
          <dt>Windows</dt>
          <dd>
          none
          </dd>
          <dt>Windows NT</dt>
          <dd>
          <a href="../../Version/MSWIN/NT35.HTM">NT3.5</a>
          <a href="../../Version/MSWIN/NT351.HTM">NT3.51</a>
          <a href="../../Version/MSWIN/NT400.HTM">NT4</a>
          <a href="../../Version/MSWIN/NT2K.HTM">NT2000</a>
          <a href="../../Version/MSWIN/NTXP.HTM">NTXP</a>
          </dd>
        </dl>
      </dd>
    </dl>

    <hr>
    Last Updated: 2006/12/01
    <br>Direct corrections or suggestions to:
    <a href="mailto:rick_lively@yahoo.com">Rick Lively</a>
  </body>
</html>
